{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.trading.example.com/signals.raw.v1.json",
  "title": "Raw Trading Signal",
  "description": "Incoming webhook signal before normalization. Received directly from external sources like TradingView.",
  "version": "1.0.0",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "corr_id",
    "source",
    "received_at",
    "payload"
  ],
  "properties": {
    "corr_id": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9_-]+$",
      "minLength": 1,
      "maxLength": 128,
      "description": "Correlation ID for request tracking. Generated by gateway on webhook receipt.",
      "examples": ["req_abc123", "webhook_20240115_103045"]
    },
    "source": {
      "type": "string",
      "enum": [
        "tradingview",
        "custom",
        "test"
      ],
      "description": "Source system that originated the signal."
    },
    "received_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp when signal was received by gateway.",
      "examples": ["2024-01-15T10:30:45.123Z"]
    },
    "payload": {
      "type": "object",
      "description": "Raw signal data as received from source. Structure varies by source.",
      "additionalProperties": true,
      "minProperties": 1
    }
  },
  "examples": [
    {
      "corr_id": "req_abc123",
      "source": "tradingview",
      "received_at": "2024-01-15T10:30:45.123Z",
      "payload": {
        "ticker": "EURUSD",
        "action": "buy",
        "price": 1.0945,
        "time": "2024-01-15T10:30:00Z",
        "strategy": "breakout_v2"
      }
    },
    {
      "corr_id": "req_def456",
      "source": "custom",
      "received_at": "2024-01-15T14:22:10.456Z",
      "payload": {
        "symbol": "BTC/USD",
        "side": "sell",
        "quantity": 0.5,
        "limit_price": 42500.00,
        "time_in_force": "GTC"
      }
    },
    {
      "corr_id": "test_789",
      "source": "test",
      "received_at": "2024-01-15T16:45:30.789Z",
      "payload": {
        "test_scenario": "high_volume_spike",
        "instrument": "SPY",
        "direction": "long",
        "confidence": 0.85
      }
    }
  ],
  "additionalMetadata": {
    "changelog": [
      {
        "version": "1.0.0",
        "date": "2024-01-01",
        "changes": "Initial schema definition"
      }
    ],
    "usage": {
      "producers": ["at-gateway"],
      "consumers": ["at-normalizer", "at-audit"]
    }
  }
}